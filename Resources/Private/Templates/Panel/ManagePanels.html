<f:render partial="Panel/MainNavigation.html" />

<a class="btn btn-primary btn-fullwidth" data-role="generalaction" data-actionname="new"><f:translate key="panel.managePanels.newPanel" /></a>

<f:for each="{panels}" as="panel">
	<div class="panel-{panel.uid} content-box content-box-expandable">
		<div class="box-teaser">
			<div class="actions">
				<div class="action toggle handle">
					<i class="evicon-down-open"></i>
				</div>
			</div>
			<span>
				<f:if condition="{panel.date}">
					<f:format.date format="%A, %e. %B %Y">{panel.date}</f:format.date>
				</f:if>
				<f:render partial="Panel/ExecutionTime" arguments="{panel:panel, leadingCharacter: '|'}" />
				<f:if condition="{panel.city}">
					| {panel.city.name}
				</f:if>
			</span>
			<h2>{panel.title}</h2>
		</div>
		<div class="box-content">
			<f:render partial="Panel/Location" arguments="{panel:panel}" />
			<f:comment>
				<div class="panel-id"><f:translate key="panel.panelId" />: <span class="panel-id-monospace">{panel.panelId}</span></div>
			</f:comment>

			<div class="panel-mainfunctions">
				<div class="row">
					<div class="col-xs-12 col-sm-6 col-md-6 sameheight">
						<a class="btn btn-primary btn-sm" data-role="panelaction" data-confirm="false" data-object="panel" data-uid="{panel.uid}" data-actionname="editVotings"><f:translate key="panel.actions.editVotings" /></a>
						<f:if condition="{panel.votings}">
							<f:then>
								<f:if condition="{panel.votings -> f:count()} > 1">
									<f:then>
										<f:count>{panel.votings}</f:count> <f:translate key="panel.votings" />
									</f:then>
									<f:else>
										<f:count>{panel.votings}</f:count> <f:translate key="panel.voting" />
									</f:else>
								</f:if>
							</f:then>
							<f:else>
								<f:translate key="panel.votings.noVotings" />
							</f:else>
						</f:if>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-6 sameheight">
						<a class="btn btn-primary btn-sm" data-role="panelaction" data-confirm="false" data-object="panel" data-uid="{panel.uid}" data-actionname="editPanelInvitations"><f:translate key="panel.actions.editPanelInvitations" /></a>
						<f:if condition="{panel.panelInvitations}">
							<f:then>
								<f:render partial="Panel/Invitations" arguments="{panel:panel}" />
							</f:then>
							<f:else>
								<f:translate key="panel.panelInvitations.noInvitations" />
							</f:else>
						</f:if>
					</div>
				</div>
			</div>

			<ul class="item-toolbar">
				<li>
					<a class="btn btn-primary" data-role="panelaction" data-confirm="false" data-object="panel" data-uid="{panel.uid}" data-actionname="edit"><i class="evicon-pencil-squared"></i><f:translate key="panel.actions.edit" /></a>
				</li>
				<li>
					<a class="btn btn-primary" data-role="panelaction" data-confirm="true" data-object="panel" data-uid="{panel.uid}" data-actionname="delete"><i class="evicon-trash"></i><f:translate key="panel.actions.delete" /></a>
					<div class="hidden ajaxobject-confirm">
						<p><f:translate key="panel.actions.delete.confirmationText" /></p>
						<button class="pull-left btn btn-primary button-cancel"><f:translate key="panel.actions.delete.cancel" /></button>
						<button class="pull-right btn btn-primary button-returntrue"><f:translate key="panel.actions.delete.confirm" /></button>
					</div>
				</li>
				<f:comment>
					<li>
						<a class="btn btn-primary btn-sm" data-role="panelaction" data-confirm="false" data-object="panel" data-uid="{panel.uid}" data-actionname="duplicate"><f:translate key="panel.actions.duplicate" /></a>
					</li>
				</f:comment>
				<li>
					<a class="btn btn-primary" data-role="panelaction" data-confirm="false" data-object="panel" data-uid="{panel.uid}" data-actionname="execute"><i class="evicon-play-circled"></i><f:translate key="panel.actions.start" /></a>
				</li>
			</ul>
		</div>
	</div>
</f:for>

<f:if condition="{panels->f:count()} > 4">
	<a class="btn btn-primary btn-fullwidth" data-role="generalaction" data-actionname="new"><f:translate key="panel.managePanels.newPanel" /></a>
</f:if>
